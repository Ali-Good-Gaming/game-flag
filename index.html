<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Flag Master - ALI_Good_Gaming</title>
    
    <!-- Ğ¨Ñ€Ğ¸Ñ„Ñ‚Ñ‹ -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800&family=Orbitron:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* --- THEMES --- */
        :root {
            /* Default (Cyberpunk) */
            --bg-grad: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            --primary: #00d2ff;
            --primary-glow: rgba(0, 210, 255, 0.5);
            --secondary: #3a7bd5;
            --accent: #ff0055;
            --text: #ffffff;
            --glass: rgba(23, 23, 35, 0.85);
            --glass-border: rgba(255, 255, 255, 0.1);
            --font-main: 'Montserrat', sans-serif;
            --font-head: 'Orbitron', sans-serif;
        }

        [data-theme="ocean"] {
            --bg-grad: linear-gradient(135deg, #00416A, #00213b);
            --primary: #79F1A4;
            --primary-glow: rgba(121, 241, 164, 0.4);
            --secondary: #0E5CAD;
            --accent: #FFD700;
            --glass: rgba(0, 30, 60, 0.85);
        }

        [data-theme="sunset"] {
            --bg-grad: linear-gradient(135deg, #2b081e, #681832);
            --primary: #FF9966;
            --primary-glow: rgba(255, 153, 102, 0.4);
            --secondary: #FF5E62;
            --accent: #FFE53B;
            --glass: rgba(60, 10, 30, 0.85);
        }

        /* --- GLOBAL --- */
        * { box-sizing: border-box; user-select: none; -webkit-tap-highlight-color: transparent; outline: none; }
        
        body {
            margin: 0; padding: 0;
            font-family: var(--font-main);
            background: var(--bg-grad);
            color: var(--text);
            height: 100vh;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #bg-canvas { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 0; }

        #app {
            position: relative; z-index: 10;
            width: 100%; max-width: 480px; height: 100%;
            display: flex; flex-direction: column;
        }

        /* --- SCREENS --- */
        .screen {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            padding: 20px;
            opacity: 0; pointer-events: none; transform: scale(0.95);
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            background: rgba(0,0,0,0.2); /* Slight tint for depth */
        }
        
        .screen.active { opacity: 1; pointer-events: all; transform: scale(1); }

        /* --- UI ELEMENTS --- */
        /* Logo Header */
        .logo-box {
            margin-bottom: 30px; text-align: center;
            animation: float 4s ease-in-out infinite;
        }
        .game-title {
            font-family: var(--font-head);
            font-size: 2.5rem;
            background: linear-gradient(to right, var(--primary), #fff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-transform: uppercase;
            filter: drop-shadow(0 0 15px var(--primary-glow));
            letter-spacing: 2px;
            margin: 0;
        }
        .game-subtitle { font-size: 0.8rem; color: rgba(255,255,255,0.6); letter-spacing: 3px; margin-top: 5px; }

        /* Buttons */
        .btn-main {
            background: linear-gradient(90deg, var(--secondary), var(--primary));
            border: none; color: #000; padding: 18px 0; width: 100%;
            border-radius: 16px; font-weight: 800; font-size: 1.1rem;
            cursor: pointer; margin: 10px 0;
            box-shadow: 0 4px 20px var(--primary-glow);
            transition: transform 0.2s;
            position: relative; overflow: hidden;
            display: flex; align-items: center; justify-content: center; gap: 10px;
            text-transform: uppercase;
            font-family: var(--font-head);
        }
        .btn-main:active { transform: scale(0.98); }
        
        .btn-glass {
            background: var(--glass);
            border: 1px solid var(--glass-border);
            color: white; padding: 15px 0; width: 100%;
            border-radius: 16px; font-weight: 600; cursor: pointer; margin: 8px 0;
            display: flex; align-items: center; justify-content: center; gap: 10px;
            transition: 0.2s; backdrop-filter: blur(10px);
        }
        .btn-glass:hover { background: rgba(255,255,255,0.15); border-color: var(--primary); }

        .btn-back-bottom {
            margin-top: auto; 
            margin-bottom: 20px;
            background: rgba(255, 50, 50, 0.2);
            border: 1px solid rgba(255, 50, 50, 0.4);
        }

        /* --- GAME INTERFACE --- */
        .game-hud {
            width: 100%;
            display: flex; justify-content: space-between; align-items: center;
            padding: 15px;
            background: var(--glass);
            border-bottom: 1px solid var(--glass-border);
            backdrop-filter: blur(15px);
            border-radius: 0 0 20px 20px;
            position: absolute; top: 0; left: 0; z-index: 50;
        }

        .hud-item { display: flex; flex-direction: column; align-items: center; }
        .hud-label { font-size: 0.7rem; opacity: 0.7; margin-bottom: 2px; }
        .hud-value { font-family: var(--font-head); font-size: 1.2rem; color: var(--primary); }

        /* Progress Bar Center */
        .progress-wrapper { flex-grow: 1; margin: 0 15px; display: flex; flex-direction: column; align-items: center;}
        .progress-track { width: 100%; height: 8px; background: rgba(255,255,255,0.1); border-radius: 4px; overflow: hidden; position: relative; }
        .progress-fill { height: 100%; background: linear-gradient(90deg, var(--secondary), var(--primary)); width: 0%; transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1); box-shadow: 0 0 10px var(--primary-glow); }

        /* Flag Card */
        .card-container {
            margin-top: 100px; /* Space for HUD */
            flex-grow: 1; display: flex; flex-direction: column; align-items: center; justify-content: flex-start; width: 100%;
        }

        .flag-emoji {
            font-size: 8rem; margin: 20px 0;
            filter: drop-shadow(0 10px 20px rgba(0,0,0,0.5));
            animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .options-grid {
            display: grid; grid-template-columns: 1fr 1fr; gap: 12px;
            width: 90%; margin-bottom: 20px;
        }

        .option-btn {
            background: var(--glass);
            border: 1px solid var(--glass-border);
            padding: 20px 10px; border-radius: 12px;
            text-align: center; font-size: 0.95rem; font-weight: 600;
            color: #fff; cursor: pointer; transition: 0.2s;
            display: flex; align-items: center; justify-content: center;
            min-height: 70px;
        }
        
        .option-btn.correct { background: #00b09b; border-color: #00b09b; box-shadow: 0 0 15px #00b09b; transform: scale(1.02); }
        .option-btn.wrong { background: #ff416c; border-color: #ff416c; animation: shake 0.4s; opacity: 0.6; }

        /* --- SETTINGS & RECORDS --- */
        .scroll-area { width: 90%; max-height: 60vh; overflow-y: auto; margin-bottom: 20px; }
        .scroll-area::-webkit-scrollbar { width: 4px; }
        .scroll-area::-webkit-scrollbar-thumb { background: var(--primary); border-radius: 2px; }

        .setting-group { background: var(--glass); padding: 15px; border-radius: 15px; margin-bottom: 10px; border: 1px solid var(--glass-border); width: 100%; }
        .setting-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; font-weight: 600; }
        
        /* Theme Selector */
        .theme-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; }
        .theme-opt { height: 40px; border-radius: 8px; border: 2px solid transparent; cursor: pointer; }
        .theme-opt.active { border-color: #fff; transform: scale(1.1); }

        /* Records Table */
        .record-card {
            background: rgba(255,255,255,0.05); padding: 12px; border-radius: 10px;
            margin-bottom: 8px; display: flex; justify-content: space-between; align-items: center;
            border-left: 3px solid var(--primary);
        }
        .rec-info { display: flex; flex-direction: column; }
        .rec-date { font-size: 0.7rem; color: #aaa; margin-top: 3px; }
        .rec-score { font-family: var(--font-head); color: var(--accent); font-size: 1.2rem; }

        /* Socials */
        .socials-row { display: flex; gap: 20px; margin-top: 20px; }
        .social-link { font-size: 1.5rem; color: rgba(255,255,255,0.7); transition: 0.3s; }
        .social-link:hover { color: var(--primary); transform: translateY(-3px); }

        /* Animations */
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
        @keyframes popIn { 0% { transform: scale(0); opacity: 0; } 100% { transform: scale(1); opacity: 1; } }
        @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-5px); } 75% { transform: translateX(5px); } }

    </style>
</head>
<body data-theme="cyber">

    <canvas id="bg-canvas"></canvas>

    <div id="app">
        
        <!-- 1. Ğ“Ğ›ĞĞ’ĞĞĞ• ĞœĞ•ĞĞ® -->
        <div id="menu-screen" class="screen active">
            <div class="logo-box">
                <h1 class="game-title">FLAG<br>MASTER</h1>
                <div class="game-subtitle">ALI_Good_Gaming</div>
            </div>

            <button class="btn-main" onclick="nav.to('modes')">
                <i class="fas fa-play"></i> <span data-lang="play">Ğ˜Ğ³Ñ€Ğ°Ñ‚ÑŒ</span>
            </button>
            <button class="btn-glass" onclick="nav.toRecords()">
                <i class="fas fa-trophy"></i> <span data-lang="records">Ğ ĞµĞºĞ¾Ñ€Ğ´Ñ‹</span>
            </button>
            <button class="btn-glass" onclick="nav.to('settings')">
                <i class="fas fa-sliders-h"></i> <span data-lang="settings">ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸</span>
            </button>

            <div class="socials-row">
<a href="https://youtube.com/@ali-gg?si=ua0XEhBtC0Pw5x7D" class="social-link" target="_blank">
    <i class="fab fa-youtube"></i>
</a>

<a href="https://t.me/aligoodgaming" class="social-link" target="_blank">
    <i class="fab fa-telegram"></i>
</a>

<a href="https://www.tiktok.com/@ali_goodgaming?_r=1&_t=ZS-92vefrVyLnp" class="social-link" target="_blank">
    <i class="fab fa-tiktok"></i>
</a>
            </div>
        </div>

        <!-- 2. Ğ’Ğ«Ğ‘ĞĞ  Ğ Ğ•Ğ–Ğ˜ĞœĞ -->
        <div id="modes-screen" class="screen">
            <h2 data-lang="select_mode" style="margin-bottom:30px">Ğ’Ğ«Ğ‘Ğ•Ğ Ğ˜ Ğ Ğ•Ğ–Ğ˜Ğœ</h2>
            
            <button class="btn-glass" onclick="game.start('classic')">
                <i class="fas fa-globe-americas"></i> 
                <div>
                    <div data-lang="mode_classic" style="font-weight:800">ĞšĞ»Ğ°ÑÑĞ¸ĞºĞ°</div>
                    <div style="font-size:0.7rem; opacity:0.7">Ğ’ÑĞµ ÑÑ‚Ñ€Ğ°Ğ½Ñ‹, Ñ…Ğ°Ñ€Ğ´ĞºĞ¾Ñ€</div>
                </div>
            </button>

            <button class="btn-glass" onclick="nav.to('continents')">
                <i class="fas fa-compass"></i>
                <div>
                    <div data-lang="mode_continents" style="font-weight:800">Ğ§Ğ°ÑÑ‚Ğ¸ Ğ¡Ğ²ĞµÑ‚Ğ°</div>
                    <div style="font-size:0.7rem; opacity:0.7">Ğ•Ğ²Ñ€Ğ¾Ğ¿Ğ°, ĞĞ·Ğ¸Ñ, ĞÑ„Ñ€Ğ¸ĞºĞ°...</div>
                </div>
            </button>

            <button class="btn-glass" onclick="nav.to('time_setup')">
                <i class="fas fa-bolt"></i>
                <div>
                    <div data-lang="mode_time" style="font-weight:800">ĞĞ° Ğ’Ñ€ĞµĞ¼Ñ</div>
                    <div style="font-size:0.7rem; opacity:0.7">Ğ£ÑĞ¿ĞµĞ¹ Ğ·Ğ° Ñ‚Ğ°Ğ¹Ğ¼ĞµÑ€Ğ¾Ğ¼</div>
                </div>
            </button>

            <button class="btn-glass btn-back-bottom" onclick="nav.to('menu')">
                <span data-lang="back">ĞĞ°Ğ·Ğ°Ğ´</span>
            </button>
        </div>

        <!-- 3. Ğ’Ğ«Ğ‘ĞĞ  ĞšĞĞĞ¢Ğ˜ĞĞ•ĞĞ¢Ğ -->
        <div id="continents-screen" class="screen">
            <h2 data-lang="select_continent" style="margin-bottom:20px">Ğ Ğ•Ğ“Ğ˜ĞĞ</h2>
            <div class="scroll-area" id="continents-list">
                <!-- Ğ“ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ ÑĞºÑ€Ğ¸Ğ¿Ñ‚Ğ¾Ğ¼ -->
            </div>
            <button class="btn-glass btn-back-bottom" onclick="nav.to('modes')">
                <span data-lang="back">ĞĞ°Ğ·Ğ°Ğ´</span>
            </button>
        </div>

        <!-- 4. ĞĞĞ¡Ğ¢Ğ ĞĞ™ĞšĞ Ğ’Ğ Ğ•ĞœĞ•ĞĞ˜ -->
        <div id="time_setup-screen" class="screen">
            <h2 data-lang="set_time">Ğ¢ĞĞ™ĞœĞ•Ğ  (ÑĞµĞº)</h2>
            <div style="display: flex; align-items: center; gap: 10px; margin: 30px 0;">
                <button class="btn-glass" style="width:50px" onclick="adjustTime(-10)">-</button>
                <div id="time-val" style="font-family:var(--font-head); font-size:2rem; width:80px; text-align:center;">60</div>
                <button class="btn-glass" style="width:50px" onclick="adjustTime(10)">+</button>
            </div>
            <button class="btn-main" onclick="game.start('time', document.getElementById('time-val').innerText)">
                <span data-lang="start">ĞŸĞĞ“ĞĞĞ›Ğ˜</span>
            </button>
            <button class="btn-glass btn-back-bottom" onclick="nav.to('modes')">
                <span data-lang="back">ĞĞ°Ğ·Ğ°Ğ´</span>
            </button>
        </div>

        <!-- 5. Ğ˜Ğ“Ğ Ğ -->
        <div id="game-screen" class="screen" style="padding:0;">
            <!-- Ğ’ĞµÑ€Ñ…Ğ½ÑÑ Ğ¿Ğ°Ğ½ĞµĞ»ÑŒ -->
            <div class="game-hud">
                <div class="hud-item" style="align-items: flex-start;">
                    <span class="hud-label" data-lang="hud_score">Ğ¡Ğ§Ğ•Ğ¢</span>
                    <span class="hud-value" id="score-display">0</span>
                </div>
                
                <div class="progress-wrapper">
                    <span class="hud-label" id="progress-text">0 / 0</span>
                    <div class="progress-track">
                        <div class="progress-fill" id="progress-bar"></div>
                    </div>
                </div>

                <div class="hud-item" style="align-items: flex-end;">
                    <span class="hud-label" data-lang="hud_time">Ğ’Ğ Ğ•ĞœĞ¯</span>
                    <span class="hud-value" id="timer-display">âˆ</span>
                </div>
            </div>

            <!-- ĞšĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ° Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑĞ° -->
            <div class="card-container">
                <div class="flag-emoji" id="flag-emoji">ğŸ³ï¸</div>
                <div class="options-grid" id="options-container"></div>
            </div>

            <!-- ĞšĞ½Ğ¾Ğ¿ĞºĞ° Ğ²Ñ‹Ñ…Ğ¾Ğ´Ğ° Ğ²Ğ½Ğ¸Ğ·Ñƒ -->
            <button class="btn-glass btn-back-bottom" style="width:90%; border-color:rgba(255,255,255,0.3)" onclick="game.quit()">
                <i class="fas fa-home"></i> <span data-lang="menu">ĞœĞ•ĞĞ®</span>
            </button>
        </div>

        <!-- 6. Ğ Ğ•Ğ—Ğ£Ğ›Ğ¬Ğ¢ĞĞ¢ -->
        <div id="result-screen" class="screen">
            <h2 data-lang="game_over" style="font-family:var(--font-head)">Ğ¤Ğ˜ĞĞ˜Ğ¨</h2>
            <div style="font-size: 4rem; margin: 10px 0; text-shadow:0 0 30px var(--primary);" id="final-emoji">ğŸ†</div>
            
            <div class="setting-group" style="text-align:center">
                <div style="font-size:0.9rem; opacity:0.7" data-lang="your_score">Ğ’Ğ°Ñˆ ÑÑ‡ĞµÑ‚</div>
                <div style="font-size:2.5rem; font-family:var(--font-head); color:var(--primary)" id="final-score">0</div>
            </div>

            <div id="record-input-container" style="width:100%; display:none;">
                <input type="text" id="player-name" placeholder="Ğ¢Ğ²Ğ¾Ğµ Ğ¸Ğ¼Ñ..." style="width:100%; padding:15px; border-radius:10px; border:none; background:rgba(255,255,255,0.1); color:white; margin-bottom:10px; text-align:center;">
                <button class="btn-main" onclick="game.saveRecord()"><span data-lang="save">Ğ¡ĞĞ¥Ğ ĞĞĞ˜Ğ¢Ğ¬</span></button>
            </div>

            <button class="btn-glass btn-back-bottom" onclick="nav.to('menu')"><span data-lang="menu">ĞœĞ•ĞĞ®</span></button>
        </div>

        <!-- 7. Ğ Ğ•ĞšĞĞ Ğ”Ğ« -->
        <div id="records-screen" class="screen">
            <h2 data-lang="records" style="margin-bottom:20px">Ğ Ğ•ĞšĞĞ Ğ”Ğ«</h2>
            <div class="scroll-area" id="records-list"></div>
            <button class="btn-glass btn-back-bottom" onclick="nav.to('menu')"><span data-lang="back">ĞĞ°Ğ·Ğ°Ğ´</span></button>
        </div>

        <!-- 8. ĞĞĞ¡Ğ¢Ğ ĞĞ™ĞšĞ˜ -->
        <div id="settings-screen" class="screen">
            <h2 data-lang="settings" style="margin-bottom:20px">ĞĞĞ¡Ğ¢Ğ ĞĞ™ĞšĞ˜</h2>
            
            <div class="setting-group">
                <div class="setting-header"><span data-lang="sound">Ğ—Ğ²ÑƒĞº</span> <i class="fas fa-volume-up"></i></div>
                <input type="range" style="width:100%" min="0" max="100" value="50" oninput="audioMgr.setVolume(this.value)">
            </div>

            <div class="setting-group">
                <div class="setting-header"><span data-lang="language">Ğ¯Ğ·Ñ‹Ğº</span> <i class="fas fa-globe"></i></div>
                <button class="btn-glass" style="padding:10px" onclick="langMgr.toggle()">
                    <span id="current-lang-display">Ğ Ğ£Ğ¡Ğ¡ĞšĞ˜Ğ™</span>
                </button>
            </div>

            <div class="setting-group">
                <div class="setting-header"><span data-lang="theme">Ğ¢ĞµĞ¼Ğ°</span> <i class="fas fa-paint-brush"></i></div>
                <div class="theme-grid">
                    <div class="theme-opt" style="background: linear-gradient(135deg, #0f0c29, #302b63);" onclick="themeMgr.set('cyber')"></div>
                    <div class="theme-opt" style="background: linear-gradient(135deg, #00416A, #00213b);" onclick="themeMgr.set('ocean')"></div>
                    <div class="theme-opt" style="background: linear-gradient(135deg, #2b081e, #681832);" onclick="themeMgr.set('sunset')"></div>
                </div>
            </div>

            <button class="btn-glass btn-back-bottom" onclick="nav.to('menu')"><span data-lang="back">ĞĞ°Ğ·Ğ°Ğ´</span></button>
        </div>

    </div>

    <script>
        /* ---------------- Ğ‘ĞĞ—Ğ Ğ”ĞĞĞĞ«Ğ¥ (Ğ‘Ğ•Ğ— Ğ˜Ğ—Ğ ĞĞ˜Ğ›Ğ¯, Ğ•Ğ¡Ğ¢Ğ¬ Ğ¢ĞĞ™Ğ’ĞĞĞ¬) ---------------- */
        // IL code excluded explicitly. TW included.
        const allFlags = [
            ["af", "ğŸ‡¦ğŸ‡«", "ĞÑ„Ğ³Ğ°Ğ½Ğ¸ÑÑ‚Ğ°Ğ½", "Afghanistan", "Asia"], ["al", "ğŸ‡¦ğŸ‡±", "ĞĞ»Ğ±Ğ°Ğ½Ğ¸Ñ", "Albania", "Europe"],
            ["dz", "ğŸ‡©ğŸ‡¿", "ĞĞ»Ğ¶Ğ¸Ñ€", "Algeria", "Africa"], ["ad", "ğŸ‡¦ğŸ‡©", "ĞĞ½Ğ´Ğ¾Ñ€Ñ€Ğ°", "Andorra", "Europe"],
            ["ao", "ğŸ‡¦ğŸ‡´", "ĞĞ½Ğ³Ğ¾Ğ»Ğ°", "Angola", "Africa"], ["ag", "ğŸ‡¦ğŸ‡¬", "ĞĞ½Ñ‚Ğ¸Ğ³ÑƒĞ°", "Antigua", "America"],
            ["ar", "ğŸ‡¦ğŸ‡·", "ĞÑ€Ğ³ĞµĞ½Ñ‚Ğ¸Ğ½Ğ°", "Argentina", "America"], ["am", "ğŸ‡¦ğŸ‡²", "ĞÑ€Ğ¼ĞµĞ½Ğ¸Ñ", "Armenia", "Asia"],
            ["au", "ğŸ‡¦ğŸ‡º", "ĞĞ²ÑÑ‚Ñ€Ğ°Ğ»Ğ¸Ñ", "Australia", "Oceania"], ["at", "ğŸ‡¦ğŸ‡¹", "ĞĞ²ÑÑ‚Ñ€Ğ¸Ñ", "Austria", "Europe"],
            ["az", "ğŸ‡¦ğŸ‡¿", "ĞĞ·ĞµÑ€Ğ±Ğ°Ğ¹Ğ´Ğ¶Ğ°Ğ½", "Azerbaijan", "Asia"], ["bs", "ğŸ‡§ğŸ‡¸", "Ğ‘Ğ°Ğ³Ğ°Ğ¼Ñ‹", "Bahamas", "America"],
            ["bh", "ğŸ‡§ğŸ‡­", "Ğ‘Ğ°Ñ…Ñ€ĞµĞ¹Ğ½", "Bahrain", "Asia"], ["bd", "ğŸ‡§ğŸ‡©", "Ğ‘Ğ°Ğ½Ğ³Ğ»Ğ°Ğ´ĞµÑˆ", "Bangladesh", "Asia"],
            ["bb", "ğŸ‡§ğŸ‡§", "Ğ‘Ğ°Ñ€Ğ±Ğ°Ğ´Ğ¾Ñ", "Barbados", "America"], ["by", "ğŸ‡§ğŸ‡¾", "Ğ‘ĞµĞ»Ğ°Ñ€ÑƒÑÑŒ", "Belarus", "Europe"],
            ["be", "ğŸ‡§ğŸ‡ª", "Ğ‘ĞµĞ»ÑŒĞ³Ğ¸Ñ", "Belgium", "Europe"], ["bz", "ğŸ‡§ğŸ‡¿", "Ğ‘ĞµĞ»Ğ¸Ğ·", "Belize", "America"],
            ["bj", "ğŸ‡§ğŸ‡¯", "Ğ‘ĞµĞ½Ğ¸Ğ½", "Benin", "Africa"], ["bt", "ğŸ‡§ğŸ‡¹", "Ğ‘ÑƒÑ‚Ğ°Ğ½", "Bhutan", "Asia"],
            ["bo", "ğŸ‡§ğŸ‡´", "Ğ‘Ğ¾Ğ»Ğ¸Ğ²Ğ¸Ñ", "Bolivia", "America"], ["ba", "ğŸ‡§ğŸ‡¦", "Ğ‘Ğ¾ÑĞ½Ğ¸Ñ", "Bosnia", "Europe"],
            ["bw", "ğŸ‡§ğŸ‡¼", "Ğ‘Ğ¾Ñ‚ÑĞ²Ğ°Ğ½Ğ°", "Botswana", "Africa"], ["br", "ğŸ‡§ğŸ‡·", "Ğ‘Ñ€Ğ°Ğ·Ğ¸Ğ»Ğ¸Ñ", "Brazil", "America"],
            ["bn", "ğŸ‡§ğŸ‡³", "Ğ‘Ñ€ÑƒĞ½ĞµĞ¹", "Brunei", "Asia"], ["bg", "ğŸ‡§ğŸ‡¬", "Ğ‘Ğ¾Ğ»Ğ³Ğ°Ñ€Ğ¸Ñ", "Bulgaria", "Europe"],
            ["bf", "ğŸ‡§ğŸ‡«", "Ğ‘ÑƒÑ€ĞºĞ¸Ğ½Ğ°-Ğ¤Ğ°ÑĞ¾", "Burkina Faso", "Africa"], ["bi", "ğŸ‡§ğŸ‡®", "Ğ‘ÑƒÑ€ÑƒĞ½Ğ´Ğ¸", "Burundi", "Africa"],
            ["kh", "ğŸ‡°ğŸ‡­", "ĞšĞ°Ğ¼Ğ±Ğ¾Ğ´Ğ¶Ğ°", "Cambodia", "Asia"], ["cm", "ğŸ‡¨ğŸ‡²", "ĞšĞ°Ğ¼ĞµÑ€ÑƒĞ½", "Cameroon", "Africa"],
            ["ca", "ğŸ‡¨ğŸ‡¦", "ĞšĞ°Ğ½Ğ°Ğ´Ğ°", "Canada", "America"], ["cv", "ğŸ‡¨ğŸ‡»", "ĞšĞ°Ğ±Ğ¾-Ğ’ĞµÑ€Ğ´Ğµ", "Cape Verde", "Africa"],
            ["cf", "ğŸ‡¨ğŸ‡«", "Ğ¦ĞĞ ", "CAR", "Africa"], ["td", "ğŸ‡¹ğŸ‡©", "Ğ§Ğ°Ğ´", "Chad", "Africa"],
            ["cl", "ğŸ‡¨ğŸ‡±", "Ğ§Ğ¸Ğ»Ğ¸", "Chile", "America"], ["cn", "ğŸ‡¨ğŸ‡³", "ĞšĞ¸Ñ‚Ğ°Ğ¹", "China", "Asia"],
            ["co", "ğŸ‡¨ğŸ‡´", "ĞšĞ¾Ğ»ÑƒĞ¼Ğ±Ğ¸Ñ", "Colombia", "America"], ["km", "ğŸ‡°ğŸ‡²", "ĞšĞ¾Ğ¼Ğ¾Ñ€Ñ‹", "Comoros", "Africa"],
            ["cg", "ğŸ‡¨ğŸ‡¬", "ĞšĞ¾Ğ½Ğ³Ğ¾", "Congo", "Africa"], ["cr", "ğŸ‡¨ğŸ‡·", "ĞšĞ¾ÑÑ‚Ğ°-Ğ Ğ¸ĞºĞ°", "Costa Rica", "America"],
            ["hr", "ğŸ‡­ğŸ‡·", "Ğ¥Ğ¾Ñ€Ğ²Ğ°Ñ‚Ğ¸Ñ", "Croatia", "Europe"], ["cu", "ğŸ‡¨ğŸ‡º", "ĞšÑƒĞ±Ğ°", "Cuba", "America"],
            ["cy", "ğŸ‡¨ğŸ‡¾", "ĞšĞ¸Ğ¿Ñ€", "Cyprus", "Europe"], ["cz", "ğŸ‡¨ğŸ‡¿", "Ğ§ĞµÑ…Ğ¸Ñ", "Czechia", "Europe"],
            ["dk", "ğŸ‡©ğŸ‡°", "Ğ”Ğ°Ğ½Ğ¸Ñ", "Denmark", "Europe"], ["dj", "ğŸ‡©ğŸ‡¯", "Ğ”Ğ¶Ğ¸Ğ±ÑƒÑ‚Ğ¸", "Djibouti", "Africa"],
            ["dm", "ğŸ‡©ğŸ‡²", "Ğ”Ğ¾Ğ¼Ğ¸Ğ½Ğ¸ĞºĞ°", "Dominica", "America"], ["do", "ğŸ‡©ğŸ‡´", "Ğ”Ğ¾Ğ¼Ğ¸Ğ½Ğ¸ĞºĞ°Ğ½Ğ°", "Dominican Rep.", "America"],
            ["ec", "ğŸ‡ªğŸ‡¨", "Ğ­ĞºĞ²Ğ°Ğ´Ğ¾Ñ€", "Ecuador", "America"], ["eg", "ğŸ‡ªğŸ‡¬", "Ğ•Ğ³Ğ¸Ğ¿ĞµÑ‚", "Egypt", "Africa"],
            ["sv", "ğŸ‡¸ğŸ‡»", "Ğ¡Ğ°Ğ»ÑŒĞ²Ğ°Ğ´Ğ¾Ñ€", "El Salvador", "America"], ["gq", "ğŸ‡¬ğŸ‡¶", "Ğ­ĞºĞ². Ğ“Ğ²Ğ¸Ğ½ĞµÑ", "Eq. Guinea", "Africa"],
            ["er", "ğŸ‡ªğŸ‡·", "Ğ­Ñ€Ğ¸Ñ‚Ñ€ĞµÑ", "Eritrea", "Africa"], ["ee", "ğŸ‡ªğŸ‡ª", "Ğ­ÑÑ‚Ğ¾Ğ½Ğ¸Ñ", "Estonia", "Europe"],
            ["et", "ğŸ‡ªğŸ‡¹", "Ğ­Ñ„Ğ¸Ğ¾Ğ¿Ğ¸Ñ", "Ethiopia", "Africa"], ["fj", "ğŸ‡«ğŸ‡¯", "Ğ¤Ğ¸Ğ´Ğ¶Ğ¸", "Fiji", "Oceania"],
            ["fi", "ğŸ‡«ğŸ‡®", "Ğ¤Ğ¸Ğ½Ğ»ÑĞ½Ğ´Ğ¸Ñ", "Finland", "Europe"], ["fr", "ğŸ‡«ğŸ‡·", "Ğ¤Ñ€Ğ°Ğ½Ñ†Ğ¸Ñ", "France", "Europe"],
            ["ga", "ğŸ‡¬ğŸ‡¦", "Ğ“Ğ°Ğ±Ğ¾Ğ½", "Gabon", "Africa"], ["gm", "ğŸ‡¬ğŸ‡²", "Ğ“Ğ°Ğ¼Ğ±Ğ¸Ñ", "Gambia", "Africa"],
            ["ge", "ğŸ‡¬ğŸ‡ª", "Ğ“Ñ€ÑƒĞ·Ğ¸Ñ", "Georgia", "Asia"], ["de", "ğŸ‡©ğŸ‡ª", "Ğ“ĞµÑ€Ğ¼Ğ°Ğ½Ğ¸Ñ", "Germany", "Europe"],
            ["gh", "ğŸ‡¬ğŸ‡­", "Ğ“Ğ°Ğ½Ğ°", "Ghana", "Africa"], ["gr", "ğŸ‡¬ğŸ‡·", "Ğ“Ñ€ĞµÑ†Ğ¸Ñ", "Greece", "Europe"],
            ["gd", "ğŸ‡¬ğŸ‡©", "Ğ“Ñ€ĞµĞ½Ğ°Ğ´Ğ°", "Grenada", "America"], ["gt", "ğŸ‡¬ğŸ‡¹", "Ğ“Ğ²Ğ°Ñ‚ĞµĞ¼Ğ°Ğ»Ğ°", "Guatemala", "America"],
            ["gn", "ğŸ‡¬ğŸ‡³", "Ğ“Ğ²Ğ¸Ğ½ĞµÑ", "Guinea", "Africa"], ["gw", "ğŸ‡¬ğŸ‡¼", "Ğ“Ğ²Ğ¸Ğ½ĞµÑ-Ğ‘Ğ¸ÑĞ°Ñƒ", "Guinea-Bissau", "Africa"],
            ["gy", "ğŸ‡¬ğŸ‡¾", "Ğ“Ğ°Ğ¹Ğ°Ğ½Ğ°", "Guyana", "America"], ["ht", "ğŸ‡­ğŸ‡¹", "Ğ“Ğ°Ğ¸Ñ‚Ğ¸", "Haiti", "America"],
            ["hn", "ğŸ‡­ğŸ‡³", "Ğ“Ğ¾Ğ½Ğ´ÑƒÑ€Ğ°Ñ", "Honduras", "America"], ["hu", "ğŸ‡­ğŸ‡º", "Ğ’ĞµĞ½Ğ³Ñ€Ğ¸Ñ", "Hungary", "Europe"],
            ["is", "ğŸ‡®ğŸ‡¸", "Ğ˜ÑĞ»Ğ°Ğ½Ğ´Ğ¸Ñ", "Iceland", "Europe"], ["in", "ğŸ‡®ğŸ‡³", "Ğ˜Ğ½Ğ´Ğ¸Ñ", "India", "Asia"],
            ["id", "ğŸ‡®ğŸ‡©", "Ğ˜Ğ½Ğ´Ğ¾Ğ½ĞµĞ·Ğ¸Ñ", "Indonesia", "Asia"], ["ir", "ğŸ‡®ğŸ‡·", "Ğ˜Ñ€Ğ°Ğ½", "Iran", "Asia"],
            ["iq", "ğŸ‡®ğŸ‡¶", "Ğ˜Ñ€Ğ°Ğº", "Iraq", "Asia"], ["ie", "ğŸ‡®ğŸ‡ª", "Ğ˜Ñ€Ğ»Ğ°Ğ½Ğ´Ğ¸Ñ", "Ireland", "Europe"],
            ["it", "ğŸ‡®ğŸ‡¹", "Ğ˜Ñ‚Ğ°Ğ»Ğ¸Ñ", "Italy", "Europe"], ["jm", "ğŸ‡¯ğŸ‡²", "Ğ¯Ğ¼Ğ°Ğ¹ĞºĞ°", "Jamaica", "America"],
            ["jp", "ğŸ‡¯ğŸ‡µ", "Ğ¯Ğ¿Ğ¾Ğ½Ğ¸Ñ", "Japan", "Asia"], ["jo", "ğŸ‡¯ğŸ‡´", "Ğ˜Ğ¾Ñ€Ğ´Ğ°Ğ½Ğ¸Ñ", "Jordan", "Asia"],
            ["kz", "ğŸ‡°ğŸ‡¿", "ĞšĞ°Ğ·Ğ°Ñ…ÑÑ‚Ğ°Ğ½", "Kazakhstan", "Asia"], ["ke", "ğŸ‡°ğŸ‡ª", "ĞšĞµĞ½Ğ¸Ñ", "Kenya", "Africa"],
            ["ki", "ğŸ‡°ğŸ‡®", "ĞšĞ¸Ñ€Ğ¸Ğ±Ğ°Ñ‚Ğ¸", "Kiribati", "Oceania"], ["kp", "ğŸ‡°ğŸ‡µ", "Ğ¡ĞµĞ². ĞšĞ¾Ñ€ĞµÑ", "North Korea", "Asia"],
            ["kr", "ğŸ‡°ğŸ‡·", "Ğ®Ğ¶. ĞšĞ¾Ñ€ĞµÑ", "South Korea", "Asia"], ["kw", "ğŸ‡°ğŸ‡¼", "ĞšÑƒĞ²ĞµĞ¹Ñ‚", "Kuwait", "Asia"],
            ["kg", "ğŸ‡°ğŸ‡¬", "ĞšÑ‹Ñ€Ğ³Ñ‹Ğ·ÑÑ‚Ğ°Ğ½", "Kyrgyzstan", "Asia"], ["la", "ğŸ‡±ğŸ‡¦", "Ğ›Ğ°Ğ¾Ñ", "Laos", "Asia"],
            ["lv", "ğŸ‡±ğŸ‡»", "Ğ›Ğ°Ñ‚Ğ²Ğ¸Ñ", "Latvia", "Europe"], ["lb", "ğŸ‡±ğŸ‡§", "Ğ›Ğ¸Ğ²Ğ°Ğ½", "Lebanon", "Asia"],
            ["ls", "ğŸ‡±ğŸ‡¸", "Ğ›ĞµÑĞ¾Ñ‚Ğ¾", "Lesotho", "Africa"], ["lr", "ğŸ‡±ğŸ‡·", "Ğ›Ğ¸Ğ±ĞµÑ€Ğ¸Ñ", "Liberia", "Africa"],
            ["ly", "ğŸ‡±ğŸ‡¾", "Ğ›Ğ¸Ğ²Ğ¸Ñ", "Libya", "Africa"], ["li", "ğŸ‡±ğŸ‡®", "Ğ›Ğ¸Ñ…Ñ‚ĞµĞ½ÑˆÑ‚ĞµĞ¹Ğ½", "Liechtenstein", "Europe"],
            ["lt", "ğŸ‡±ğŸ‡¹", "Ğ›Ğ¸Ñ‚Ğ²Ğ°", "Lithuania", "Europe"], ["lu", "ğŸ‡±ğŸ‡º", "Ğ›ÑĞºÑĞµĞ¼Ğ±ÑƒÑ€Ğ³", "Luxembourg", "Europe"],
            ["mg", "ğŸ‡²ğŸ‡¬", "ĞœĞ°Ğ´Ğ°Ğ³Ğ°ÑĞºĞ°Ñ€", "Madagascar", "Africa"], ["mw", "ğŸ‡²ğŸ‡¼", "ĞœĞ°Ğ»Ğ°Ğ²Ğ¸", "Malawi", "Africa"],
            ["my", "ğŸ‡²ğŸ‡¾", "ĞœĞ°Ğ»Ğ°Ğ¹Ğ·Ğ¸Ñ", "Malaysia", "Asia"], ["mv", "ğŸ‡²ğŸ‡»", "ĞœĞ°Ğ»ÑŒĞ´Ğ¸Ğ²Ñ‹", "Maldives", "Asia"],
            ["ml", "ğŸ‡²ğŸ‡±", "ĞœĞ°Ğ»Ğ¸", "Mali", "Africa"], ["mt", "ğŸ‡²ğŸ‡¹", "ĞœĞ°Ğ»ÑŒÑ‚Ğ°", "Malta", "Europe"],
            ["mh", "ğŸ‡²ğŸ‡­", "ĞœĞ°Ñ€ÑˆĞ°Ğ»Ğ»Ğ¾Ğ²Ñ‹ Ğ¾-Ğ²Ğ°", "Marshall Is.", "Oceania"], ["mr", "ğŸ‡²ğŸ‡·", "ĞœĞ°Ğ²Ñ€Ğ¸Ñ‚Ğ°Ğ½Ğ¸Ñ", "Mauritania", "Africa"],
            ["mu", "ğŸ‡²ğŸ‡º", "ĞœĞ°Ğ²Ñ€Ğ¸ĞºĞ¸Ğ¹", "Mauritius", "Africa"], ["mx", "ğŸ‡²ğŸ‡½", "ĞœĞµĞºÑĞ¸ĞºĞ°", "Mexico", "America"],
            ["fm", "ğŸ‡«ğŸ‡²", "ĞœĞ¸ĞºÑ€Ğ¾Ğ½ĞµĞ·Ğ¸Ñ", "Micronesia", "Oceania"], ["md", "ğŸ‡²ğŸ‡©", "ĞœĞ¾Ğ»Ğ´Ğ¾Ğ²Ğ°", "Moldova", "Europe"],
            ["mc", "ğŸ‡²ğŸ‡¨", "ĞœĞ¾Ğ½Ğ°ĞºĞ¾", "Monaco", "Europe"], ["mn", "ğŸ‡²ğŸ‡³", "ĞœĞ¾Ğ½Ğ³Ğ¾Ğ»Ğ¸Ñ", "Mongolia", "Asia"],
            ["me", "ğŸ‡²ğŸ‡ª", "Ğ§ĞµÑ€Ğ½Ğ¾Ğ³Ğ¾Ñ€Ğ¸Ñ", "Montenegro", "Europe"], ["ma", "ğŸ‡²ğŸ‡¦", "ĞœĞ°Ñ€Ğ¾ĞºĞºĞ¾", "Morocco", "Africa"],
            ["mz", "ğŸ‡²ğŸ‡¿", "ĞœĞ¾Ğ·Ğ°Ğ¼Ğ±Ğ¸Ğº", "Mozambique", "Africa"], ["mm", "ğŸ‡²ğŸ‡²", "ĞœÑŒÑĞ½Ğ¼Ğ°", "Myanmar", "Asia"],
            ["na", "ğŸ‡³ğŸ‡¦", "ĞĞ°Ğ¼Ğ¸Ğ±Ğ¸Ñ", "Namibia", "Africa"], ["nr", "ğŸ‡³ğŸ‡·", "ĞĞ°ÑƒÑ€Ñƒ", "Nauru", "Oceania"],
            ["np", "ğŸ‡³ğŸ‡µ", "ĞĞµĞ¿Ğ°Ğ»", "Nepal", "Asia"], ["nl", "ğŸ‡³ğŸ‡±", "ĞĞ¸Ğ´ĞµÑ€Ğ»Ğ°Ğ½Ğ´Ñ‹", "Netherlands", "Europe"],
            ["nz", "ğŸ‡³ğŸ‡¿", "ĞĞ¾Ğ²Ğ°Ñ Ğ—ĞµĞ»Ğ°Ğ½Ğ´Ğ¸Ñ", "New Zealand", "Oceania"], ["ni", "ğŸ‡³ğŸ‡®", "ĞĞ¸ĞºĞ°Ñ€Ğ°Ğ³ÑƒĞ°", "Nicaragua", "America"],
            ["ne", "ğŸ‡³ğŸ‡ª", "ĞĞ¸Ğ³ĞµÑ€", "Niger", "Africa"], ["ng", "ğŸ‡³ğŸ‡¬", "ĞĞ¸Ğ³ĞµÑ€Ğ¸Ñ", "Nigeria", "Africa"],
            ["mk", "ğŸ‡²ğŸ‡°", "Ğ¡ĞµĞ². ĞœĞ°ĞºĞµĞ´Ğ¾Ğ½Ğ¸Ñ", "North Macedonia", "Europe"], ["no", "ğŸ‡³ğŸ‡´", "ĞĞ¾Ñ€Ğ²ĞµĞ³Ğ¸Ñ", "Norway", "Europe"],
            ["om", "ğŸ‡´ğŸ‡²", "ĞĞ¼Ğ°Ğ½", "Oman", "Asia"], ["pk", "ğŸ‡µğŸ‡°", "ĞŸĞ°ĞºĞ¸ÑÑ‚Ğ°Ğ½", "Pakistan", "Asia"],
            ["pw", "ğŸ‡µğŸ‡¼", "ĞŸĞ°Ğ»Ğ°Ñƒ", "Palau", "Oceania"], ["pa", "ğŸ‡µğŸ‡¦", "ĞŸĞ°Ğ½Ğ°Ğ¼Ğ°", "Panama", "America"],
            ["pg", "ğŸ‡µğŸ‡¬", "ĞŸĞ°Ğ¿ÑƒĞ°-Ğ.Ğ“Ğ²Ğ¸Ğ½ĞµÑ", "Papua New Guinea", "Oceania"], ["py", "ğŸ‡µğŸ‡¾", "ĞŸĞ°Ñ€Ğ°Ğ³Ğ²Ğ°Ğ¹", "Paraguay", "America"],
            ["pe", "ğŸ‡µğŸ‡ª", "ĞŸĞµÑ€Ñƒ", "Peru", "America"], ["ph", "ğŸ‡µğŸ‡­", "Ğ¤Ğ¸Ğ»Ğ¸Ğ¿Ğ¿Ğ¸Ğ½Ñ‹", "Philippines", "Asia"],
            ["pl", "ğŸ‡µğŸ‡±", "ĞŸĞ¾Ğ»ÑŒÑˆĞ°", "Poland", "Europe"], ["pt", "ğŸ‡µğŸ‡¹", "ĞŸĞ¾Ñ€Ñ‚ÑƒĞ³Ğ°Ğ»Ğ¸Ñ", "Portugal", "Europe"],
            ["qa", "ğŸ‡¶ğŸ‡¦", "ĞšĞ°Ñ‚Ğ°Ñ€", "Qatar", "Asia"], ["ro", "ğŸ‡·ğŸ‡´", "Ğ ÑƒĞ¼Ñ‹Ğ½Ğ¸Ñ", "Romania", "Europe"],
            ["ru", "ğŸ‡·ğŸ‡º", "Ğ Ğ¾ÑÑĞ¸Ñ", "Russia", "Europe"], ["rw", "ğŸ‡·ğŸ‡¼", "Ğ ÑƒĞ°Ğ½Ğ´Ğ°", "Rwanda", "Africa"],
            ["kn", "ğŸ‡°ğŸ‡³", "Ğ¡ĞµĞ½Ñ‚-ĞšĞ¸Ñ‚Ñ", "Saint Kitts", "America"], ["lc", "ğŸ‡±ğŸ‡¨", "Ğ¡ĞµĞ½Ñ‚-Ğ›ÑÑĞ¸Ñ", "Saint Lucia", "America"],
            ["vc", "ğŸ‡»ğŸ‡¨", "Ğ¡ĞµĞ½Ñ‚-Ğ’Ğ¸Ğ½ÑĞµĞ½Ñ‚", "Saint Vincent", "America"], ["ws", "ğŸ‡¼ğŸ‡¸", "Ğ¡Ğ°Ğ¼Ğ¾Ğ°", "Samoa", "Oceania"],
            ["sm", "ğŸ‡¸ğŸ‡²", "Ğ¡Ğ°Ğ½-ĞœĞ°Ñ€Ğ¸Ğ½Ğ¾", "San Marino", "Europe"], ["st", "ğŸ‡¸ğŸ‡¹", "Ğ¡Ğ°Ğ½-Ğ¢Ğ¾Ğ¼Ğµ", "Sao Tome", "Africa"],
            ["sa", "ğŸ‡¸ğŸ‡¦", "Ğ¡Ğ°ÑƒĞ´Ğ¾Ğ²ÑĞºĞ°Ñ ĞÑ€Ğ°Ğ²Ğ¸Ñ", "Saudi Arabia", "Asia"], ["sn", "ğŸ‡¸ğŸ‡³", "Ğ¡ĞµĞ½ĞµĞ³Ğ°Ğ»", "Senegal", "Africa"],
            ["rs", "ğŸ‡·ğŸ‡¸", "Ğ¡ĞµÑ€Ğ±Ğ¸Ñ", "Serbia", "Europe"], ["sc", "ğŸ‡¸ğŸ‡¨", "Ğ¡ĞµĞ¹ÑˆĞµĞ»Ñ‹", "Seychelles", "Africa"],
            ["sl", "ğŸ‡¸ğŸ‡±", "Ğ¡ÑŒĞµÑ€Ñ€Ğ°-Ğ›ĞµĞ¾Ğ½Ğµ", "Sierra Leone", "Africa"], ["sg", "ğŸ‡¸ğŸ‡¬", "Ğ¡Ğ¸Ğ½Ğ³Ğ°Ğ¿ÑƒÑ€", "Singapore", "Asia"],
            ["sk", "ğŸ‡¸ğŸ‡°", "Ğ¡Ğ»Ğ¾Ğ²Ğ°ĞºĞ¸Ñ", "Slovakia", "Europe"], ["si", "ğŸ‡¸ğŸ‡®", "Ğ¡Ğ»Ğ¾Ğ²ĞµĞ½Ğ¸Ñ", "Slovenia", "Europe"],
            ["sb", "ğŸ‡¸ğŸ‡§", "Ğ¡Ğ¾Ğ»Ğ¾Ğ¼Ğ¾Ğ½Ğ¾Ğ²Ñ‹ Ğ¾-Ğ²Ğ°", "Solomon Is.", "Oceania"], ["so", "ğŸ‡¸ğŸ‡´", "Ğ¡Ğ¾Ğ¼Ğ°Ğ»Ğ¸", "Somalia", "Africa"],
            ["za", "ğŸ‡¿ğŸ‡¦", "Ğ®ĞĞ ", "South Africa", "Africa"], ["es", "ğŸ‡ªğŸ‡¸", "Ğ˜ÑĞ¿Ğ°Ğ½Ğ¸Ñ", "Spain", "Europe"],
            ["lk", "ğŸ‡±ğŸ‡°", "Ğ¨Ñ€Ğ¸-Ğ›Ğ°Ğ½ĞºĞ°", "Sri Lanka", "Asia"], ["sd", "ğŸ‡¸ğŸ‡©", "Ğ¡ÑƒĞ´Ğ°Ğ½", "Sudan", "Africa"],
            ["sr", "ğŸ‡¸ğŸ‡·", "Ğ¡ÑƒÑ€Ğ¸Ğ½Ğ°Ğ¼", "Suriname", "America"], ["se", "ğŸ‡¸ğŸ‡ª", "Ğ¨Ğ²ĞµÑ†Ğ¸Ñ", "Sweden", "Europe"],
            ["ch", "ğŸ‡¨ğŸ‡­", "Ğ¨Ğ²ĞµĞ¹Ñ†Ğ°Ñ€Ğ¸Ñ", "Switzerland", "Europe"], ["sy", "ğŸ‡¸ğŸ‡¾", "Ğ¡Ğ¸Ñ€Ğ¸Ñ", "Syria", "Asia"],
            ["tw", "ğŸ‡¹ğŸ‡¼", "Ğ¢Ğ°Ğ¹Ğ²Ğ°Ğ½ÑŒ", "Taiwan", "Asia"], ["tj", "ğŸ‡¹ğŸ‡¯", "Ğ¢Ğ°Ğ´Ğ¶Ğ¸ĞºĞ¸ÑÑ‚Ğ°Ğ½", "Tajikistan", "Asia"],
            ["tz", "ğŸ‡¹ğŸ‡¿", "Ğ¢Ğ°Ğ½Ğ·Ğ°Ğ½Ğ¸Ñ", "Tanzania", "Africa"], ["th", "ğŸ‡¹ğŸ‡­", "Ğ¢Ğ°Ğ¸Ğ»Ğ°Ğ½Ğ´", "Thailand", "Asia"],
            ["tl", "ğŸ‡¹ğŸ‡±", "Ğ¢Ğ¸Ğ¼Ğ¾Ñ€-Ğ›ĞµÑˆÑ‚Ğ¸", "Timor-Leste", "Asia"], ["tg", "ğŸ‡¹ğŸ‡¬", "Ğ¢Ğ¾Ğ³Ğ¾", "Togo", "Africa"],
            ["to", "ğŸ‡¹ğŸ‡´", "Ğ¢Ğ¾Ğ½Ğ³Ğ°", "Tonga", "Oceania"], ["tt", "ğŸ‡¹ğŸ‡¹", "Ğ¢Ñ€Ğ¸Ğ½Ğ¸Ğ´Ğ°Ğ´", "Trinidad", "America"],
            ["tn", "ğŸ‡¹ğŸ‡³", "Ğ¢ÑƒĞ½Ğ¸Ñ", "Tunisia", "Africa"], ["tr", "ğŸ‡¹ğŸ‡·", "Ğ¢ÑƒÑ€Ñ†Ğ¸Ñ", "Turkey", "Asia"],
            ["tm", "ğŸ‡¹ğŸ‡²", "Ğ¢ÑƒÑ€ĞºĞ¼ĞµĞ½Ğ¸ÑÑ‚Ğ°Ğ½", "Turkmenistan", "Asia"], ["tv", "ğŸ‡¹ğŸ‡»", "Ğ¢ÑƒĞ²Ğ°Ğ»Ñƒ", "Tuvalu", "Oceania"],
            ["ug", "ğŸ‡ºğŸ‡¬", "Ğ£Ğ³Ğ°Ğ½Ğ´Ğ°", "Uganda", "Africa"], ["ua", "ğŸ‡ºğŸ‡¦", "Ğ£ĞºÑ€Ğ°Ğ¸Ğ½Ğ°", "Ukraine", "Europe"],
            ["ae", "ğŸ‡¦ğŸ‡ª", "ĞĞĞ­", "UAE", "Asia"], ["gb", "ğŸ‡¬ğŸ‡§", "Ğ’ĞµĞ»Ğ¸ĞºĞ¾Ğ±Ñ€Ğ¸Ñ‚Ğ°Ğ½Ğ¸Ñ", "UK", "Europe"],
            ["us", "ğŸ‡ºğŸ‡¸", "Ğ¡Ğ¨Ğ", "USA", "America"], ["uy", "ğŸ‡ºğŸ‡¾", "Ğ£Ñ€ÑƒĞ³Ğ²Ğ°Ğ¹", "Uruguay", "America"],
            ["uz", "ğŸ‡ºğŸ‡¿", "Ğ£Ğ·Ğ±ĞµĞºĞ¸ÑÑ‚Ğ°Ğ½", "Uzbekistan", "Asia"], ["vu", "ğŸ‡»ğŸ‡º", "Ğ’Ğ°Ğ½ÑƒĞ°Ñ‚Ñƒ", "Vanuatu", "Oceania"],
            ["va", "ğŸ‡»ğŸ‡¦", "Ğ’Ğ°Ñ‚Ğ¸ĞºĞ°Ğ½", "Vatican", "Europe"], ["ve", "ğŸ‡»ğŸ‡ª", "Ğ’ĞµĞ½ĞµÑÑƒÑĞ»Ğ°", "Venezuela", "America"],
            ["vn", "ğŸ‡»ğŸ‡³", "Ğ’ÑŒĞµÑ‚Ğ½Ğ°Ğ¼", "Vietnam", "Asia"], ["ye", "ğŸ‡¾ğŸ‡ª", "Ğ™ĞµĞ¼ĞµĞ½", "Yemen", "Asia"],
            ["zm", "ğŸ‡¿ğŸ‡²", "Ğ—Ğ°Ğ¼Ğ±Ğ¸Ñ", "Zambia", "Africa"], ["zw", "ğŸ‡¿ğŸ‡¼", "Ğ—Ğ¸Ğ¼Ğ±Ğ°Ğ±Ğ²Ğµ", "Zimbabwe", "Africa"]
        ];

        /* ---------------- Ğ›ĞĞšĞĞ›Ğ˜Ğ—ĞĞ¦Ğ˜Ğ¯ ---------------- */
        const translations = {
            ru: {
                play: "Ğ˜Ğ“Ğ ĞĞ¢Ğ¬", records: "Ğ Ğ•ĞšĞĞ Ğ”Ğ«", settings: "ĞĞĞ¡Ğ¢Ğ ĞĞ™ĞšĞ˜",
                select_mode: "Ğ’Ğ«Ğ‘Ğ•Ğ Ğ˜ Ğ Ğ•Ğ–Ğ˜Ğœ", mode_classic: "ĞšĞ»Ğ°ÑÑĞ¸ĞºĞ°", mode_continents: "Ğ§Ğ°ÑÑ‚Ğ¸ Ğ¡Ğ²ĞµÑ‚Ğ°", mode_time: "ĞĞ° Ğ’Ñ€ĞµĞ¼Ñ",
                select_continent: "Ğ Ğ•Ğ“Ğ˜ĞĞ", set_time: "Ğ¢ĞĞ™ĞœĞ•Ğ  (ÑĞµĞº)", start: "ĞŸĞĞ“ĞĞĞ›Ğ˜",
                back: "ĞĞĞ—ĞĞ”", menu: "Ğ’ ĞœĞ•ĞĞ®", save: "Ğ¡ĞĞ¥Ğ ĞĞĞ˜Ğ¢Ğ¬",
                hud_score: "Ğ¡Ğ§Ğ•Ğ¢", hud_time: "Ğ’Ğ Ğ•ĞœĞ¯",
                game_over: "Ğ¤Ğ˜ĞĞ˜Ğ¨", your_score: "Ğ¢Ğ²Ğ¾Ğ¹ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚",
                sound: "Ğ—Ğ²ÑƒĞº", language: "Ğ¯Ğ·Ñ‹Ğº", theme: "Ğ¢ĞµĞ¼Ğ°",
                Europe: "Ğ•Ğ²Ñ€Ğ¾Ğ¿Ğ°", Asia: "ĞĞ·Ğ¸Ñ", Africa: "ĞÑ„Ñ€Ğ¸ĞºĞ°", America: "ĞĞ¼ĞµÑ€Ğ¸ĞºĞ°", Oceania: "ĞĞºĞµĞ°Ğ½Ğ¸Ñ"
            },
            en: {
                play: "PLAY", records: "RECORDS", settings: "SETTINGS",
                select_mode: "SELECT MODE", mode_classic: "Classic", mode_continents: "Continents", mode_time: "Time Attack",
                select_continent: "REGION", set_time: "TIMER (sec)", start: "START",
                back: "BACK", menu: "MENU", save: "SAVE",
                hud_score: "SCORE", hud_time: "TIME",
                game_over: "GAME OVER", your_score: "Your Score",
                sound: "Sound", language: "Language", theme: "Theme",
                Europe: "Europe", Asia: "Asia", Africa: "Africa", America: "America", Oceania: "Oceania"
            }
        };

        /* ---------------- Ğ¡Ğ˜Ğ¡Ğ¢Ğ•ĞœĞ« ---------------- */
        
        const themeMgr = {
            set(name) {
                document.body.setAttribute('data-theme', name);
                localStorage.setItem('theme', name);
            },
            load() {
                const t = localStorage.getItem('theme') || 'cyber';
                this.set(t);
            }
        };

        const audioMgr = {
            ctx: new (window.AudioContext || window.webkitAudioContext)(),
            volume: 0.5,
            
            playSound(type) {
                if(this.volume <= 0) return;
                if(this.ctx.state === 'suspended') this.ctx.resume();
                
                const osc = this.ctx.createOscillator();
                const gain = this.ctx.createGain();
                osc.connect(gain);
                gain.connect(this.ctx.destination);
                const now = this.ctx.currentTime;
                
                if (type === 'click') {
                    osc.type = 'sine';
                    osc.frequency.setValueAtTime(800, now);
                    osc.frequency.exponentialRampToValueAtTime(300, now + 0.1);
                    gain.gain.setValueAtTime(this.volume * 0.3, now);
                    gain.gain.exponentialRampToValueAtTime(0.01, now + 0.1);
                    osc.start(now); osc.stop(now + 0.1);
                } else if (type === 'correct') {
                    osc.type = 'triangle';
                    osc.frequency.setValueAtTime(600, now);
                    osc.frequency.setValueAtTime(1200, now + 0.1);
                    gain.gain.setValueAtTime(this.volume * 0.4, now);
                    gain.gain.linearRampToValueAtTime(0, now + 0.3);
                    osc.start(now); osc.stop(now + 0.3);
                } else if (type === 'wrong') {
                    osc.type = 'sawtooth';
                    osc.frequency.setValueAtTime(150, now);
                    osc.frequency.linearRampToValueAtTime(100, now + 0.3);
                    gain.gain.setValueAtTime(this.volume * 0.4, now);
                    gain.gain.linearRampToValueAtTime(0, now + 0.3);
                    osc.start(now); osc.stop(now + 0.3);
                }
            },
            setVolume(val) { this.volume = val / 100; }
        };

        const langMgr = {
            current: 'ru',
            toggle() {
                this.current = this.current === 'ru' ? 'en' : 'ru';
                document.getElementById('current-lang-display').innerText = this.current === 'ru' ? "Ğ Ğ£Ğ¡Ğ¡ĞšĞ˜Ğ™" : "ENGLISH";
                this.apply();
                game.renderContinents();
            },
            apply() {
                document.querySelectorAll('[data-lang]').forEach(el => {
                    const key = el.getAttribute('data-lang');
                    if(translations[this.current][key]) el.innerText = translations[this.current][key];
                });
            },
            getText(key) { return translations[this.current][key] || key; }
        };

        const nav = {
            screens: document.querySelectorAll('.screen'),
            to(id) {
                audioMgr.playSound('click');
                this.screens.forEach(s => s.classList.remove('active'));
                document.getElementById(id + '-screen').classList.add('active');
                if(id === 'continents') game.renderContinents();
            },
            toRecords() {
                this.to('records');
                game.showRecords();
            }
        };

        function adjustTime(val) {
            const el = document.getElementById('time-val');
            let t = parseInt(el.innerText) + val;
            if(t < 10) t = 10;
            if(t > 300) t = 300;
            el.innerText = t;
            audioMgr.playSound('click');
        }

        /* ---------------- Ğ›ĞĞ“Ğ˜ĞšĞ Ğ˜Ğ“Ğ Ğ« ---------------- */
        const game = {
            queue: [],
            score: 0,
            total: 0,
            timer: null,
            timeRemaining: 0,
            mode: null,
            continent: null,

            start(mode, param) {
                audioMgr.playSound('click');
                this.mode = mode;
                this.score = 0;
                
                let pool = [];
                if (mode === 'classic' || mode === 'time') pool = [...allFlags];
                else if (mode === 'continent') {
                    this.continent = param;
                    pool = allFlags.filter(f => f[4] === param);
                }

                this.queue = this.shuffle(pool);
                this.total = this.queue.length;

                nav.to('game');
                
                // UI Reset
                document.getElementById('progress-bar').style.width = '0%';
                document.getElementById('progress-text').innerText = `1 / ${this.total}`;
                
                if (mode === 'time') {
                    this.timeRemaining = parseInt(param);
                    this.startTimer();
                    document.getElementById('progress-text').style.opacity = '0';
                } else {
                    document.getElementById('timer-display').innerText = "âˆ";
                    document.getElementById('progress-text').style.opacity = '1';
                }

                this.nextTurn();
            },

            startTimer() {
                const display = document.getElementById('timer-display');
                clearInterval(this.timer);
                display.innerText = this.timeRemaining;
                
                this.timer = setInterval(() => {
                    this.timeRemaining--;
                    display.innerText = this.timeRemaining;
                    if(this.timeRemaining < 10) display.style.color = "#ff0055";
                    else display.style.color = "var(--primary)";

                    if (this.timeRemaining <= 0) this.finish();
                }, 1000);
            },

            nextTurn() {
                if (this.queue.length === 0) {
                    this.finish();
                    return;
                }

                const currentFlag = this.queue[0];
                const done = this.total - this.queue.length;
                
                document.getElementById('score-display').innerText = this.score;
                
                if (this.mode !== 'time') {
                    const pct = (done / this.total) * 100;
                    document.getElementById('progress-bar').style.width = pct + '%';
                    document.getElementById('progress-text').innerText = `${done + 1} / ${this.total}`;
                }

                // Render Emoji
                const el = document.getElementById('flag-emoji');
                el.innerText = currentFlag[1];
                // Reset animation
                el.style.animation = 'none';
                el.offsetHeight; /* trigger reflow */
                el.style.animation = 'popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275)';

                // Options
                let options = [currentFlag];
                while(options.length < 4) {
                    const r = allFlags[Math.floor(Math.random() * allFlags.length)];
                    if(!options.includes(r)) options.push(r);
                }
                options = this.shuffle(options);

                const container = document.getElementById('options-container');
                container.innerHTML = '';

                options.forEach(opt => {
                    const btn = document.createElement('div');
                    btn.className = 'option-btn';
                    btn.innerText = langMgr.current === 'ru' ? opt[2] : opt[3];
                    btn.onclick = () => this.check(opt, btn, currentFlag);
                    container.appendChild(btn);
                });
            },

            check(selected, btn, correct) {
                if(btn.classList.contains('correct') || btn.classList.contains('wrong')) return;

                if (selected === correct) {
                    audioMgr.playSound('correct');
                    btn.classList.add('correct');
                    this.score++;
                } else {
                    audioMgr.playSound('wrong');
                    btn.classList.add('wrong');
                    // Show correct
                    const all = document.querySelectorAll('.option-btn');
                    const txt = langMgr.current === 'ru' ? correct[2] : correct[3];
                    all.forEach(b => { if(b.innerText === txt) b.classList.add('correct'); });
                }

                setTimeout(() => {
                    this.queue.shift();
                    this.nextTurn();
                }, 900);
            },

            finish() {
                clearInterval(this.timer);
                nav.to('result');
                document.getElementById('final-score').innerText = this.score;
                
                const recInput = document.getElementById('record-input-container');
                
                if (this.mode === 'continent') {
                    recInput.style.display = 'none';
                    if (this.score >= this.total * 0.9) localStorage.setItem('done_' + this.continent, 'true');
                } else if (this.mode === 'time') {
                    recInput.style.display = 'block';
                } else {
                    recInput.style.display = 'none';
                }
            },

            saveRecord() {
                const name = document.getElementById('player-name').value || "Player";
                const date = new Date().toLocaleString();
                const record = { name, score: this.score, date };
                
                let recs = JSON.parse(localStorage.getItem('flag_records') || "[]");
                recs.push(record);
                recs.sort((a,b) => b.score - a.score);
                recs = recs.slice(0, 15);
                
                localStorage.setItem('flag_records', JSON.stringify(recs));
                alert("Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¾!");
                nav.to('menu');
            },

            renderContinents() {
                const list = ['Europe', 'Asia', 'Africa', 'America', 'Oceania'];
                const container = document.getElementById('continents-list');
                container.innerHTML = '';
                
                list.forEach(c => {
                    const isDone = localStorage.getItem('done_' + c) === 'true';
                    const btn = document.createElement('button');
                    btn.className = 'btn-glass';
                    btn.style.justifyContent = 'space-between';
                    btn.style.padding = '20px';
                    if(isDone) btn.style.borderColor = 'var(--primary)';
                    
                    btn.onclick = () => game.start('continent', c);
                    btn.innerHTML = `
                        <div style="text-align:left">
                            <div style="font-weight:700">${langMgr.getText(c)}</div>
                            <div style="font-size:0.7rem; opacity:0.6">${isDone ? 'ĞŸÑ€Ğ¾Ğ¹Ğ´ĞµĞ½Ğ¾' : 'ĞĞ°Ñ‡Ğ°Ñ‚ÑŒ'}</div>
                        </div>
                        ${isDone ? '<i class="fas fa-check-circle" style="color:var(--primary)"></i>' : '<i class="fas fa-chevron-right"></i>'}
                    `;
                    container.appendChild(btn);
                });
            },

            showRecords() {
                const list = document.getElementById('records-list');
                const recs = JSON.parse(localStorage.getItem('flag_records') || "[]");
                list.innerHTML = '';
                
                if(recs.length === 0) {
                    list.innerHTML = '<div style="text-align:center; opacity:0.5; margin-top:30px">ĞŸĞ¾ĞºĞ° Ğ¿ÑƒÑÑ‚Ğ¾...</div>';
                    return;
                }

                recs.forEach((r, i) => {
                    const div = document.createElement('div');
                    div.className = 'record-card';
                    div.innerHTML = `
                        <div class="rec-info">
                            <div style="font-weight:700">#${i+1} ${r.name}</div>
                            <div class="rec-date">${r.date}</div>
                        </div>
                        <div class="rec-score">${r.score}</div>
                    `;
                    list.appendChild(div);
                });
            },

            quit() {
                clearInterval(this.timer);
                nav.to('menu');
            },

            shuffle(arr) {
                return arr.sort(() => Math.random() - 0.5);
            }
        };

        /* ---------------- BACKGROUND PARTICLES ---------------- */
        const canvas = document.getElementById('bg-canvas');
        const ctx = canvas.getContext('2d');
        let particles = [];

        function resize() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resize);
        resize();

        class Particle {
            constructor() {
                this.reset();
            }
            reset() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.size = Math.random() * 2;
                this.speed = Math.random() * 0.5 + 0.1;
                this.alpha = Math.random() * 0.5 + 0.1;
            }
            update() {
                this.y -= this.speed;
                if(this.y < 0) this.reset();
            }
            draw() {
                ctx.fillStyle = `rgba(255,255,255,${this.alpha})`;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI*2);
                ctx.fill();
            }
        }

        for(let i=0; i<60; i++) particles.push(new Particle());

        function animate() {
            ctx.clearRect(0,0,canvas.width,canvas.height);
            particles.forEach(p => { p.update(); p.draw(); });
            requestAnimationFrame(animate);
        }
        animate();

        // INIT
        themeMgr.load();
        langMgr.apply();

    </script>
</body>
</html>
